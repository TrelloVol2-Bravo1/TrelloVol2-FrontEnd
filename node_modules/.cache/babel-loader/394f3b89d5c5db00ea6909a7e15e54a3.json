{"ast":null,"code":"import UserService from \"./user.service\";\nimport { TableModel } from \"../models/table.model\";\nimport { ListModel } from \"../models/list.model\";\nimport { CardModel } from \"../models/card.model\";\nexport default class ApiService {\n  static getURL() {\n    return process.env.REACT_APP_SERVER_URL;\n  }\n\n  static async GetTables() {\n    const requestOptions = {\n      method: 'GET',\n      headers: UserService.getHeaders()\n    };\n    const tables = [];\n    const response = await fetch(ApiService.getURL() + 'table', requestOptions);\n    const data = await response.json();\n\n    for (let i = 0; i < data.data.length; i++) {\n      const table = new TableModel(data.data[i].table_id, data.data[i].table_name, data.data[i].user_id);\n      tables.push(table);\n    }\n\n    return tables;\n  }\n\n  static async GetLists(id) {\n    const requestOptions = {\n      method: 'GET',\n      headers: UserService.getHeaders()\n    };\n    const lists = [];\n    const response = await fetch(`${ApiService.getURL()}listTable/${id}`, requestOptions);\n    const data = await response.json();\n\n    for (let i = 0; i < data.data.length; i++) {\n      const list = new ListModel(data.data[i].list_id, data.data[i].list_name);\n      lists.push(list);\n    }\n\n    return lists;\n  }\n\n  static async DeleteTable(table) {\n    const requestOptions = {\n      method: 'DELETE',\n      headers: UserService.getHeaders()\n    };\n    const response = await fetch(ApiService.getURL() + 'table/' + table.getTableId(), requestOptions);\n    const data = await response.json();\n  }\n\n  static async DeleteCard(card) {\n    const requestOptions = {\n      method: 'DELETE',\n      headers: UserService.getHeaders()\n    };\n    const response = await fetch(ApiService.getURL() + 'card/' + card.getCardID(), requestOptions);\n    const data = await response.json();\n  }\n\n  static async DeleteList(list) {\n    const requestOptions = {\n      method: 'DELETE',\n      headers: UserService.getHeaders()\n    };\n    const response = await fetch(ApiService.getURL() + 'list/' + list.getListID(), requestOptions);\n    const data = await response.json();\n  }\n\n  static async CreateTable(name) {\n    const requestOptions = {\n      method: 'POST',\n      headers: UserService.getHeaders(),\n      body: JSON.stringify({\n        name: name\n      })\n    };\n    const response = await fetch(ApiService.getURL() + 'table', requestOptions);\n    const data = await response.json();\n    return data.table;\n  }\n\n  static async CreateList(name, table_id) {\n    const requestOptions = {\n      method: 'POST',\n      headers: UserService.getHeaders(),\n      body: JSON.stringify({\n        list_name: name,\n        table_id: table_id\n      })\n    };\n    const response = await fetch(ApiService.getURL() + 'list', requestOptions);\n    const data = await response.json();\n    return data.list;\n  }\n\n  static async GetCards(id) {\n    const requestOptions = {\n      method: 'GET',\n      headers: UserService.getHeaders()\n    };\n    const cards = [];\n    const response = await fetch(`${ApiService.getURL()}cardList/${id}`, requestOptions);\n    const data = await response.json();\n\n    for (let i = 0; i < data.data.length; i++) {\n      const card = new CardModel(data.data[i].card_id, data.data[i].list_id, data.data[i].card_name, data.data[i].card_description);\n      cards.push(card);\n    }\n\n    return cards;\n  }\n\n}","map":{"version":3,"sources":["/home/przemek/Documents/TrelloVol2-FrontEnd/src/services/api.service.ts"],"names":["UserService","TableModel","ListModel","CardModel","ApiService","getURL","process","env","REACT_APP_SERVER_URL","GetTables","requestOptions","method","headers","getHeaders","tables","response","fetch","data","json","i","length","table","table_id","table_name","user_id","push","GetLists","id","lists","list","list_id","list_name","DeleteTable","getTableId","DeleteCard","card","getCardID","DeleteList","getListID","CreateTable","name","body","JSON","stringify","CreateList","GetCards","cards","card_id","card_name","card_description"],"mappings":"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","sourcesContent":["import UserService from \"./user.service\";\nimport {TableModel} from \"../models/table.model\";\nimport {ListModel} from \"../models/list.model\";\nimport {CardModel} from \"../models/card.model\";\n\nexport default class ApiService{\n    static getURL() {\n        return process.env.REACT_APP_SERVER_URL;\n    }\n\n    static async GetTables() {\n        const requestOptions = {\n            method: 'GET',\n            headers: UserService.getHeaders()\n        };\n\n        const tables = [];\n\n        const response = await fetch(ApiService.getURL() + 'table', requestOptions);\n        const data = await response.json();\n        for (let i = 0; i < data.data.length; i++) {\n            const table = new TableModel(data.data[i].table_id, data.data[i].table_name, data.data[i].user_id);\n            tables.push(table);\n        }\n        return tables;\n    }\n\n    static async GetLists(id: number) {\n        const requestOptions = {\n            method: 'GET',\n            headers: UserService.getHeaders()\n        };\n\n        const lists = [];\n\n        const response = await fetch(`${ApiService.getURL()}listTable/${id}`, requestOptions);\n        const data = await response.json();\n        for (let i = 0; i < data.data.length; i++) {\n            const list = new ListModel(data.data[i].list_id, data.data[i].list_name);\n            lists.push(list);\n        }\n        return lists;\n    }\n\n    static async DeleteTable(table: TableModel) {\n        const requestOptions = {\n            method: 'DELETE',\n            headers: UserService.getHeaders()\n        };\n\n        const response = await fetch(ApiService.getURL() + 'table/' + table.getTableId(), requestOptions);\n        const data = await  response.json();\n    }\n\n    static async DeleteCard(card: CardModel) {\n        const requestOptions = {\n            method: 'DELETE',\n            headers: UserService.getHeaders()\n        };\n\n        const response = await fetch(ApiService.getURL() + 'card/' + card.getCardID(), requestOptions);\n        const data = await  response.json();\n    }\n\n    static async DeleteList(list: ListModel) {\n        const requestOptions = {\n            method: 'DELETE',\n            headers: UserService.getHeaders()\n        };\n\n        const response = await fetch(ApiService.getURL() + 'list/' + list.getListID(), requestOptions);\n        const data = await  response.json();\n    }\n\n    static async CreateTable(name: string) {\n        const requestOptions = {\n            method: 'POST',\n            headers: UserService.getHeaders(),\n            body: JSON.stringify({\n                name: name\n            }),\n        };\n\n        const response = await fetch(ApiService.getURL() + 'table', requestOptions);\n        const data = await  response.json();\n        return data.table;\n    }\n\n    static async CreateList(name: string, table_id: number) {\n        const requestOptions = {\n            method: 'POST',\n            headers: UserService.getHeaders(),\n            body: JSON.stringify({\n                list_name: name,\n                table_id: table_id\n            }),\n        };\n\n        const response = await fetch(ApiService.getURL() + 'list', requestOptions);\n        const data = await  response.json();\n        return data.list;\n    }\n\n    static async GetCards(id: number) {\n        const requestOptions = {\n            method: 'GET',\n            headers: UserService.getHeaders()\n        };\n\n        const cards = [];\n\n        const response = await fetch(`${ApiService.getURL()}cardList/${id}`, requestOptions);\n        const data = await response.json();\n        for (let i = 0; i < data.data.length; i++) {\n            const card = new CardModel(data.data[i].card_id, data.data[i].list_id, data.data[i].card_name, data.data[i].card_description);\n            cards.push(card);\n        }\n        return cards;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}